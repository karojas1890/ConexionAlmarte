{% extends "layout_terapeuta.html" %}

{% block title %}Gestión de Pacientes{% endblock %}

{% block content %}

<script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>

    <div class="container">
       
        <div class="page-header">
            <h2>Gestión de Pacientes</h2>
            <p>Administra la información de tus pacientes y su historial clínico</p>
        </div>

        <div class="actions-bar">
            <div class="search-box">
                <span class="search-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </span>
                <input type="text" placeholder="Buscar paciente por nombre, email o teléfono..." id="searchInput">
            </div>
            <button class="btn-add" onclick="openAddPatientModal()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                Agregar Paciente
            </button>
        </div>

       
        <div class="patients-grid" id="patientsGrid">
            
            <div class="patient-card">
                <div class="patient-header">
                    <div class="patient-avatar">CS</div>
                    <div class="patient-info">
                        <h3>Carlos Salazar</h3>
                        <p>25 años</p>
                    </div>
                </div>
                <div class="patient-details">
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </span>
                        <span>carlos.salazar@email.com</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
                            </svg>
                        </span>
                        <span>+506 8888-9999</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </span>
                        <span>Última cita: 15/01/2025</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                        </span>
                        <span>12 sesiones completadas</span>
                    </div>
                </div>
                <div class="patient-actions">
                    <button class="btn-action">Ver Perfil</button>
                    <button class="btn-action">Historial</button>
                    <button class="btn-action">Editar</button>
                </div>
            </div>

            
            <div class="patient-card">
                <div class="patient-header">
                    <div class="patient-avatar">MR</div>
                    <div class="patient-info">
                        <h3>María Rodríguez</h3>
                        <p>32 años</p>
                    </div>
                </div>
                <div class="patient-details">
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </span>
                        <span>maria.rodriguez@email.com</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
                            </svg>
                        </span>
                        <span>+506 7777-8888</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </span>
                        <span>Última cita: 18/01/2025</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                        </span>
                        <span>8 sesiones completadas</span>
                    </div>
                </div>
                <div class="patient-actions">
                    <button class="btn-action">Ver Perfil</button>
                    <button class="btn-action">Historial</button>
                    <button class="btn-action">Editar</button>
                </div>
            </div>

            
            <div class="patient-card">
                <div class="patient-header">
                    <div class="patient-avatar">JM</div>
                    <div class="patient-info">
                        <h3>Juan Méndez</h3>
                        <p>28 años</p>
                    </div>
                </div>
                <div class="patient-details">
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </span>
                        <span>juan.mendez@email.com</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
                            </svg>
                        </span>
                        <span>+506 6666-7777</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </span>
                        <span>Última cita: 20/01/2025</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                        </span>
                        <span>5 sesiones completadas</span>
                    </div>
                </div>
                <div class="patient-actions">
                    <button class="btn-action">Ver Perfil</button>
                    <button class="btn-action">Historial</button>
                    <button class="btn-action">Editar</button>
                </div>
            </div>
        </div>
    </div>

   


    
    
  
         <div class="modal" id="addPatientModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Crear Cuenta</h3>
      <button class="btn-close" onclick="closeAddPatientModal()">×</button>
    </div>

    <div class="modal-body">
      <form id="addPatientForm">
        <div class="form-row">
          <div class="form-group">
            <label>Identificación</label>
            <input type="text" id="identification" required maxlength="25">
          </div>
          <div class="form-group">
            <label>Nombre</label>
            <input type="text" id="nombre" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Primer Apellido</label>
            <input type="text" id="apellido1" required>
          </div>
          <div class="form-group">
            <label>Segundo Apellido</label>
            <input type="text" id="apellido2" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Teléfono</label>
            <input type="tel" id="telefono"  required maxlength="8" minlength="8">
          </div>
          <div class="form-group">
            <label>Fecha de Nacimiento</label>
            <input type="date" id="fechaNacimiento" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Provincia</label>
            <select id="provincia" required>
              
              
            </select>
          </div>
          <div class="form-group">
            <label>Cantón</label>
            <select id="canton" required>
              
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Distrito</label>
            <select id="distrito" required>
              
            </select>
          </div>
          <div class="form-group">
            <label>Dirección Exacta</label>
            <input type="text" id="direccion" required>
          </div>
        </div>
       <div class="form-row">
          <div class="form-group">
            <label>Correo Electronico</label>
            <input type="email" id="correo" required>
          </div>
        <div class="form-group">
          <label>Ocupacion</label>
          <input type="text" id="ocupacion" required>
        </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Edad</label>
            <input type="number" id="edad" required>
          </div>
        <div class="form-group">
          <label>Lugar de Trabajo / Estudio</label>
          <input type="text" id="lugarTrabajo" required>
        </div>
        </div>
        <div class="modal-footer">
      <button type="button" class="btn-submit" onclick="submitPatient()">Crear Cuenta</button>

    </div>
  </div>
      </form>
    </div>
</div>
<script src="{{ url_for('static', filename='js/gestionPacientes.js') }}"></script>
  {% endblock %}