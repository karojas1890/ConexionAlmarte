{% extends "layout.html" %}

{% block title %}Mi actividad{% endblock %}

{% block content %}
    <div class="container">
        <div class="header">
            <h1>üìä Mi Actividad</h1>
            <p>Revisa el historial de acciones realizadas en tu cuenta</p>
        </div>

        <div class="filters">
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Tipo de Actividad</label>
                    <select id="activityType" onchange="filterActivities()">
                        <option value="">Todas las actividades</option>
                        <option value="1">Inicio de Sesi√≥n</option>
                        <option value="2">Cierre de Sesi√≥n</option>
                        <option value="3">Citas</option>
                        <option value="4">Pagos</option>
                        <option value="5">Perfil</option>
                        <option value="6">Seguridad</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Fecha Desde</label>
                    <input type="date" id="dateFrom" onchange="filterActivities()">
                </div>
                <div class="filter-group">
                    <label>Fecha Hasta</label>
                    <input type="date" id="dateTo" onchange="filterActivities()">
                </div>
                <div class="filter-group">
                    <label>Estado</label>
                    <select id="statusFilter" onchange="filterActivities()">
                        <option value="">Todos</option>
                        <option value="true">Exitoso</option>
                        <option value="false">Fallido</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon success">‚úì</div>
                <div class="stat-content">
                    <h3>156</h3>
                    <p>Acciones Exitosas</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon info">üìÖ</div>
                <div class="stat-content">
                    <h3>12</h3>
                    <p>Citas Agendadas</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon warning">‚ö†Ô∏è</div>
                <div class="stat-content">
                    <h3>3</h3>
                    <p>Intentos Fallidos</p>
                </div>
            </div>
        </div>

        <div class="activity-list">
            <h2>Historial de Actividades</h2>

            <div id="activitiesContainer">
                <!-- Actividad 1: Inicio de sesi√≥n exitoso -->
                <div class="activity-item" onclick="toggleDetails(this)">
                    <div class="activity-header">
                        <div class="activity-title">
                            <div class="activity-icon login">üîê</div>
                            <div class="activity-info">
                                <h3>Inicio de Sesi√≥n</h3>
                                <p>Accediste a tu cuenta desde un navegador web</p>
                                <span class="activity-status success">Exitoso</span>
                            </div>
                        </div>
                        <div class="activity-time">Hace 2 horas</div>
                    </div>
                    <div class="activity-details">
                        <div class="detail-row">
                            <span class="detail-label">Fecha y Hora:</span>
                            <span class="detail-value">28/10/2025 14:30:45</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Direcci√≥n IP:</span>
                            <span class="detail-value">192.168.1.100</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Dispositivo:</span>
                            <span class="detail-value">Chrome 120 en Windows 11</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Ubicaci√≥n:</span>
                            <span class="detail-value">San Jos√©, Costa Rica</span>
                        </div>
                    </div>
                </div>

                <!-- Actividad 2: Cita agendada -->
                <div class="activity-item" onclick="toggleDetails(this)">
                    <div class="activity-header">
                        <div class="activity-title">
                            <div class="activity-icon appointment">üìÖ</div>
                            <div class="activity-info">
                                <h3>Cita Agendada</h3>
                                <p>Reservaste una sesi√≥n de terapia individual</p>
                                <span class="activity-status success">Exitoso</span>
                            </div>
                        </div>
                        <div class="activity-time">Hace 1 d√≠a</div>
                    </div>
                    <div class="activity-details">
                        <div class="detail-row">
                            <span class="detail-label">Fecha y Hora:</span>
                            <span class="detail-value">27/10/2025 10:15:22</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Servicio:</span>
                            <span class="detail-value">Terapia Individual</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Terapeuta:</span>
                            <span class="detail-value">Licda. Mar√≠a Gonz√°lez</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Fecha de Cita:</span>
                            <span class="detail-value">30/10/2025 15:00</span>
                        </div>
                    </div>
                </div>

                <!-- Actividad 3: Pago realizado -->
                <div class="activity-item" onclick="toggleDetails(this)">
                    <div class="activity-header">
                        <div class="activity-title">
                            <div class="activity-icon payment">üí≥</div>
                            <div class="activity-info">
                                <h3>Pago Procesado</h3>
                                <p>Pago de sesi√≥n de terapia completado</p>
                                <span class="activity-status success">Exitoso</span>
                            </div>
                        </div>
                        <div class="activity-time">Hace 1 d√≠a</div>
                    </div>
                    <div class="activity-details">
                        <div class="detail-row">
                            <span class="detail-label">Fecha y Hora:</span>
                            <span class="detail-value">27/10/2025 10:16:05</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Monto:</span>
                            <span class="detail-value">‚Ç°35,000.00</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">M√©todo de Pago:</span>
                            <span class="detail-value">Visa ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4532</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">ID Transacci√≥n:</span>
                            <span class="detail-value">TXN-2025-001234</span>
                        </div>
                    </div>
                </div>

                <!-- Actividad 4: Actualizaci√≥n de perfil -->
                <div class="activity-item" onclick="toggleDetails(this)">
                    <div class="activity-header">
                        <div class="activity-title">
                            <div class="activity-icon profile">üë§</div>
                            <div class="activity-info">
                                <h3>Perfil Actualizado</h3>
                                <p>Modificaste tu informaci√≥n personal</p>
                                <span class="activity-status success">Exitoso</span>
                            </div>
                        </div>
                        <div class="activity-time">Hace 3 d√≠as</div>
                    </div>
                    <div class="activity-details">
                        <div class="detail-row">
                            <span class="detail-label">Fecha y Hora:</span>
                            <span class="detail-value">25/10/2025 16:45:30</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Campos Modificados:</span>
                            <span class="detail-value">Tel√©fono, Direcci√≥n</span>
                        </div>
                    </div>
                </div>

                <!-- Actividad 5: Intento fallido -->
                <div class="activity-item" onclick="toggleDetails(this)">
                    <div class="activity-header">
                        <div class="activity-title">
                            <div class="activity-icon security">üîí</div>
                            <div class="activity-info">
                                <h3>Intento de Inicio de Sesi√≥n</h3>
                                <p>Contrase√±a incorrecta</p>
                                <span class="activity-status failed">Fallido</span>
                            </div>
                        </div>
                        <div class="activity-time">Hace 1 semana</div>
                    </div>
                    <div class="activity-details">
                        <div class="detail-row">
                            <span class="detail-label">Fecha y Hora:</span>
                            <span class="detail-value">21/10/2025 08:22:15</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Direcci√≥n IP:</span>
                            <span class="detail-value">192.168.1.100</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Motivo:</span>
                            <span class="detail-value">Contrase√±a incorrecta</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pagination">
                <button onclick="previousPage()" id="prevBtn">‚Üê Anterior</button>
                <span>P√°gina <strong>1</strong> de <strong>5</strong></span>
                <button onclick="nextPage()" id="nextBtn">Siguiente ‚Üí</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/patientActivity.js') }}"></script>
{% endblock %}